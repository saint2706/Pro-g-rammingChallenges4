/*
  cube.css â€“ 3D cube face styling for the web-based demo.

  This stylesheet is not directly used by the canvas-based demo, but is kept
  as a reference for the original CSS-only implementation.
*/

:root {
  /* Define CSS custom properties for easy customization. */
  --cube-size: 300px;
  --cube-bg: #678f9c;
  --shadow-color: rgba(0, 0, 0, 0.7);
  --anim-duration: 20s;
}

.space {
  /* This container establishes the 3D perspective for its children. */
  width: var(--cube-size);
  height: var(--cube-size);
  margin-left: 120px;
  perspective: 1600px;
  perspective-origin: 50% -240px;
  position: relative;
}

figure {
  /* Base style for the cube faces. */
  display: block;
  position: absolute;
  width: var(--cube-size);
  height: var(--cube-size);
  background: var(--cube-bg);
  transform-origin: 50% 50% 0;
  backface-visibility: hidden;
}

.cube {
  /* This is the container for the cube's faces. */
  transform-style: preserve-3d;
  animation: rotate var(--anim-duration) linear infinite;
}

/* Position and rotate each face to form the cube. */
.front {
  transform: translateZ(calc(var(--cube-size) / 2));
}

.back {
  transform: rotateY(180deg) translateZ(calc(var(--cube-size) / 2));
}

.top {
  transform: rotateX(90deg) translateZ(calc(var(--cube-size) / 2));
}

.bottom {
  transform: rotateX(-90deg) translateZ(calc(var(--cube-size) / 2));
}

.left {
  transform: rotateY(-90deg) translateZ(calc(var(--cube-size) / 2));
}

.right {
  transform: rotateY(90deg) translateZ(calc(var(--cube-size) / 2));
}

.bottom {
  /* Add a subtle drop shadow to the bottom face. */
  box-shadow: 0 10px 100px var(--shadow-color), 1px 5px 50px var(--shadow-color);
  background: transparent;
}

/* Optional shading for a more realistic look. */
figure::before,
figure::after {
  content: "";
  position: absolute;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  background: radial-gradient(circle at top left, rgba(0, 0, 0, 0.5), #000);
  mix-blend-mode: multiply;
  animation: faceShade 10s linear infinite;
}

.front::before,
.front::after {
  opacity: 0;
  animation: faceShade 10s linear infinite;
}

@keyframes faceShade {
  0%, 2% {
    opacity: 0;
  }
  25%, 35% {
    opacity: 0.8;
  }
  50%, 100% {
    opacity: 0;
  }
}

/* Keyframe animation for the cube's rotation. */
@keyframes rotate {
  to {
    transform: rotateY(360deg);
  }
}

/* Media query to disable animations for users who prefer reduced motion. */
@media (prefers-reduced-motion: reduce) {
  .cube {
    animation: none;
  }

  figure::before,
  figure::after {
    animation: none;
  }
}

.content {
  padding: 20px;
}
